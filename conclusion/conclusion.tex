\begin{document}
	\chapter{Conclusions}
	
	In this work we presented an analysis of various aspects of a newborn Bitcoin micro-payment system known as Lightning Network. We collected data from the testnet environment for a month and showed the trends in terms of size of the network, number of edges, average degree and diameter on a daily basis and on a monthly basis, evidencing a small variation over a 24h period with respect to a 31 days period. We focused on the centrality aspect of some nodes that showed a high betweenness centrality score throughout the daily and the monthly observation period, evidencing the implications on having such a high centrality degree on this particular network. Then an inherent hierarchical structure of the network has been showed through the analysis of the k-vertex components iterated over the maximal subgraph found for each step, and the process was repeated for each snapshot of the network putting in evidence the size of each vertex component. Then we investigated the features of the nodes belonging to the most connected component by computing the intersection with a list of nodes sorted by their betweenness centrality score, discovering that each highest k-connected component is mostly composed by central nodes, suggesting that there is a strong backbone that either would help in future to form a hierarchical structure similar to the one observed in ISPs infrastructures, or will cause the network.
	
	Based on the information gathered so far, we wanted to find out which was the best random graph model able to capture the essential structure of the network. We first observed that the network degree distribution was governed by a power-law, then we guessed the $\gamma$ value, that is the exponent of such power-law, via curve fitting over many instances of the network, computing the mean value among these fits. We finally discovered, by comparing the real information with the one gathered on the newly created model, that the random graph that was best suited to represent the Lightning Network was the Chung-Lu model, which is a model for scale-free network. Then we provided a formalization of the network behavior based on the Time Varying Graph framework by defining a directed TVG that can model the presence of an edge along the lifespan of a system; we also introduced the notion of payment channel modeled as two opposed directed edges that connects two nodes of the network and defined the conditions under which a payment is doable in both the best and worst case scenario (cooperative and uncooperative nodes).
	
	\section{Future works and directions}
	
	Bitcoin is a fairly new technology and the literature is still scarce; this determined an initial difficult approach to the topic since most of the documentation has to be found in old forums or in developers mailing-list. In addition, the Lightning Network was publicly released on November 2017 on the testnet environment and for this reason the scientific literature by the time was literally non-existent except for a proposal of a Lightning Network routing scheme known as Flare \cite{Prihodko2016}. For this reason, a survey over this technology would indeed help other researchers to get to know to the main features of this scalability solution and better orientate between the main issues.
	
	When we started working on this protocol there were no tools that offered network stats, thus part of this work is dedicated to trends analysis. As the network kept growing, more and more tools were developed for the user base, as well as network trackers which displayed some basic characteristic of the network, but they all lack of important network characterization metrics: thus, one direction could be further develop and ease the visualization of the metrics, like the one presented on this work, to give users more information about the network they are investing in. Furthermore, the data presented until now only applies to the testnet environment due to hardware limit, so it would be interesting to see some of the analysis presented above repeated on the main network data, in particular those about the generation of an equivalent model.
	
	The network route discovery protocol relies by now on the fact that each node in the graph knows the topology of the network; as the network grows it would be rather impractical for nodes to store all the information of an ever-evolving graph, thus a discussion over a Lightning Network hierarchical infrastructure has to be made, and the considerations about the k-vertex components we made so far could be used as a starting ground for future works. On the other hand, having so many central nodes belonging to the same connected component may led to the formation of payment cartels were some users would be served with much more priority by central nodes with respect to others, thus decreasing the overall fairness when it comes to transaction processing.
	
	Lastly, the Lightning Network so far has seen a low adoption by the users because setting up a new node is a task that requires a strong technical background, thus the network is still small in size with respect to the scalability goals that it has anticipated. With an equivalent model in mind and a formal model that describes the basic operations of the system, it would be useful to test the Lightning Network against a wider scenario, where millions of nodes are capable to process transactions and/or to fail them. Also, since the autopilot function appears to be designed around the BA-model, it would be interesting to test the network against other random graph models and see which one would fit better for the system purpose.
	
\end{document}