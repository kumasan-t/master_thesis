\begin{document}
	\chapter{Introduction}
		One of the most significant fact that occurred during 2017 was the boom of the cryptocurrencies. In September 2017 the networks were flooded with news about a virtual currency that was rapidly gaining notoriety (and thus, value) for being a "decentralized" currency, that is, a monetary system that doesn't need the intermediation of a trusted third party (i.e a bank, a government) to be issued or to be spent. The name was Bitcoin.
		
		Bitcoin and other cryptocurrencies were overwhelmed by a market frenzy that caused the money's price to sky-rocket from 3'500 \$ each to nearly 20'000 \$\footnote{http://fortune.com/2017/12/17/bitcoin-record-high-short-of-20000/} by the end of December. A large number of new startups emerged in that occasion, giving birth to new cryptocurrencies, new investment funds, new software products ready for the market and new financial tools. The so-called crypto-companies, companies who offered a blockchain-related service, started ICOs to fund their idea: an ICO is a \textit{Initial Coin Offering}, a deregulated way of investment in which every startup sells token in the very same way a company sells stocks in exchange for the promise that these tokens will be future units of currency or future shares of the company. In February 2018, an article from Fortune\footnote{https://www.marketwatch.com/story/nearly-half-of-all-2017-icos-have-failed-2018-02-26} reveals how nearly half of all the 2017 ICOs born during the Bitcoin frenzy have failed, yet those failures aren't stopping investors to keep funding new startups: the total ICO funding in 2017 was \$3.8 billion and by the time of the article, \$1.1 billion more were invested by February 2018.
		
		Along with ICOs, new software products started to hit the market: thanks to the power of the Ethereum \cite{Buterin2014} scripting language, the 2017 has seen also the rise of \textit{dApps}, abbreviation that stands for \textit{decentralized Apps}, a software that run its back-end  on a decentralized peer-to-peer network in contrast with applications whose back-end is running on centralized servers. The most relevant decentralized application (as of the time of writing) is CryptoKitties\footnote{https://www.cryptokitties.co/}, an Ethereum based digital breeding dApp and collectibles marketplace whose goal is to sell digital kittens generated from Ethereum \textit{smart contracts}. Smart Contracts are a new tools introduced by Ethereum that by using a broad set of computational instructions, enforce conditions on transactions, i.e. Smart Contracts can:
		\begin{itemize}
			\item Store informations about an application directly on the blockchain (so that the information stored is persistent and untampered).
			\item Manage the agreement between two user.
			\item Offer a new tool to existing real world contracts.
			\item Function as 'multi-signature' accounts, ensuring that a certain amount of money is expendable only if a required percentage of people agree.
		\end{itemize}
		The rise of interest in the cryptocurrency world has not only concerned investors and/or speculators but also has led many developer and researchers to work on the subject: by the end of 2017 the number of publications strictly related to Bitcoin was 664, doubling up the number of publications in 2016\footnote{https://cdecker.github.io/btcresearch/}. However, it is in that occasion that the limitations of the Bitcoin protocol emerged: slow transactions processing, high processing fees and ever increasing ledger size posed new threats to a system that has faced such a huge popularity.
		
		By the time of writing, the most notorious cryptocurrencies are currently facing the consequences of such an awesome ride, having lost in the first quarter of the year most of their value (Bitcoin itself dropped from 20'000 \$ back to 7'000 \$) due to speculation and market manipulation performed by some big players.  Nevertheless, the researchers are more interested on the technology behind Bitcoin and every other cryptocurrency, which is the \textbf{blockchain}, the new disruptive technology that is posing new challenges and new horizons to decentralized systems. 
		
		A large part of the researchers community is focusing on the scalability problem of the \textit{proof-of-work}-based blockchains (e.g. Bitcoin, Ethereum, Litecoin\footnote{https://www.youtube.com/watch?v=U2KP8koYC3s}, Bitcoin Cash...): the throughput of transactions processed by the current Bitcoin protocol is 7 transactions per second, far below the throughput of the current dominant transaction processors like VISA average of 2'000 transactions per second (up to 65'000 transactions per second\footnote{https://usa.visa.com/dam/VCOM/download/corporate/media/visanet-technology/aboutvisafactsheet.pdf}). Addressing this problem has been the goal of the blockchain community since the very first time the blockchain technology was born. There have been improvements over the year (SegWit update or the block size increase update), but none of these solution came even nearly close to the transactions per second processed by their main competitor.

		On January 2016, Joseph Poon and Thaddeus Dryja published a white paper describing a layer 2 technology called Lightning Network\footnote{https://lightning.network/}. The idea behind it is very simple: a network of micro-payments channel (i.e. transaction channels between two peers) where each Bitcoin transfer occurs off-blockchain without having trust issues. The idea was instantly seen as something revolutionary among the members of the blockchain community, and as soon as the prototype network went live on the Bitcoin testnet (a testing environment for developers) thousands of users joined it. In late 2017 the Lightning Network faced a new wave of popularity thanks to the golden period Bitcoin was facing and this accelerated the developing process of the network that lead to the 15th of March 2018 release, the day where the Lightning Network went live on the Bitcoin main-net. This pre-release (which is still in its beta version) is addressed to developers in order to get them ready with a plethora of Lightning Apps when the Lightning Network will officially come out from the beta release.
		
		The aim of the project presented in this thesis is to provide an analysis of said network, measure its robustness using ad-hoc metrics and provide a characterization that would allow to build an equivalent model in order to study the network in a more wider scenario. The project will be structured as follows:
		\begin{itemize}
			\item The second chapter will give a \text{background} of the blockchain technology, the Bitcoin protocol and the Lightning Network.
			\item The third chapter will describe how the network data is collected and all the tools used to produce the knowledge base for the analysis.
			\item Lastly, the last chapter will visualize and discuss the results and the implication of the analysis of the data collected.
		\end{itemize}
	\section{Motivation}
		Decentralized payment networks and decentralized ledgers are a new entity in IT world and their success relies on guarantees on fairness, privacy, security, availability and persistence: a payment network that is not compliant with these properties is a network that should not to be trusted in any way. The Lightning Network leverage the properties of the Bitcoin blockchain to ensure that untrusted payment routes can be performed, yet it does so by adding a new complex layer on top of the Bitcoin architecture. This layer forms a network whose topology resembles the topology of a \textit{scale-free network} [citation needed]. It is of interest to analyze this network and understand the properties that are provided to the user. 
		
		The market is discovering these new technology, and too often companies try to catch up with the trend by offering products which include blockchain services (such as distributed storage, distributed messaging systems and distributed computing platforms) yet without comprehending the trade-offs these blockchains require to perform, causing an overkill for a service that could have been done with a trusted third party in a cheaper way. Part of the research investigated on whether or not it is useful to use a blockchain \cite{Wust2017}, but in light of the Lightning Network approach, the selection criteria on using a blockchain may be re-evaluated.
		
		There is also an ongoing debate over the scalability problem (that will be discussed in details in the next chapter) whether or not is it better to add a layer of complexity instead of increasing the blocksize of each block. This debate escalated and led to what is known to be a \textit{hard-fork}, that is a  permanent split in the history of the ledger that divided the Bitcoin community into Bitcoin and Bitcoin Cash. Bitcoin Cash decision was to increase the maximum number of transactions per block, currently set at 32MB for each block, allowing the throughput of its network to spike to over one hundred transaction per seconds. Competitors contest Bitcoin Cash decision that this approach doesn't allow for the network to scale properly if the user base will increase in size. Lightning Network is the solution that people are waiting to explore and that could reignite interest in the cryptocurrency world providing a new approach that could led to a new renaissance of the IT world.
		
\end{document}